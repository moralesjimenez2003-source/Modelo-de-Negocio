<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RestaurantAnalytics AI - Plataforma Interactiva</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: #0a0c10;
            color: #fff;
            overflow-x: hidden;
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            background: linear-gradient(145deg, #0a0c10 0%, #151a1f 100%);
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Animado */
        .dashboard-header {
            background: rgba(18, 22, 28, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 30px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            animation: slideInDown 0.8s ease;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }

        @keyframes slideInDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .header-left h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-left h1 i {
            background: linear-gradient(135deg, #ffd700, #ffa500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: spin 10s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .restaurant-selector {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            min-width: 320px;
        }

        .restaurant-selector select {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            color: white;
            font-size: 1rem;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .restaurant-selector select:hover {
            border-color: #ffd700;
            background: rgba(255,215,0,0.1);
        }

        /* Stats Cards con efecto 3D */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(18, 22, 28, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 25px;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            animation: fadeInUp 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.7s;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: rgba(255,215,0,0.3);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        @keyframes fadeInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 5px;
        }

        .stat-change {
            color: #10b981;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, rgba(37,99,235,0.2), rgba(30,64,175,0.2));
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #ffd700;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255,215,0,0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255,215,0,0); }
            100% { box-shadow: 0 0 0 0 rgba(255,215,0,0); }
        }

        /* Grid Principal */
        .analytics-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        @media (max-width: 1200px) {
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }

        .chart-container, .metrics-panel, .insight-card, .ai-analysis, .menu-analysis {
            background: rgba(18, 22, 28, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 25px;
            padding: 25px;
            transition: all 0.3s;
        }

        .chart-container:hover, .metrics-panel:hover {
            border-color: rgba(255,215,0,0.3);
        }

        .time-btn {
            padding: 10px 20px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            color: #fff;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .time-btn:hover {
            background: rgba(255,215,0,0.2);
            border-color: #ffd700;
        }

        .time-btn.active {
            background: linear-gradient(135deg, #ffd700, #ffa500);
            color: #000;
            border-color: #ffd700;
            font-weight: 600;
        }

        /* KPIs */
        .progress-fill {
            background: linear-gradient(90deg, #ffd700, #ffa500);
            box-shadow: 0 0 20px rgba(255,215,0,0.3);
        }

        /* AI Analysis Section */
        .ai-analysis {
            background: linear-gradient(145deg, rgba(18,22,28,0.95), rgba(10,12,16,0.95));
            border: 1px solid rgba(255,215,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .ai-analysis::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .ai-metric-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,215,0,0.2);
            position: relative;
            z-index: 1;
        }

        .ai-metric-value {
            color: #ffd700;
            font-size: 1.8rem;
            font-weight: 700;
        }

        /* Sentiment Cards */
        .sentiment-card {
            background: rgba(18, 22, 28, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s;
        }

        .sentiment-card:hover {
            transform: scale(1.05);
            border-color: #ffd700;
        }

        /* Menu Items */
        .menu-item {
            background: rgba(255,255,255,0.05);
            border-left: 4px solid #ffd700;
            transition: all 0.3s;
            cursor: pointer;
        }

        .menu-item:hover {
            background: rgba(255,215,0,0.1);
            transform: translateX(5px);
        }

        /* Loading Overlay */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            flex-direction: column;
            gap: 20px;
        }

        .loading.active {
            display: flex;
            animation: fadeIn 0.3s;
        }

        .restaurant-loader {
            width: 80px;
            height: 80px;
            border: 5px solid rgba(255,215,0,0.3);
            border-top: 5px solid #ffd700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Notificaciones */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(18, 22, 28, 0.95);
            backdrop-filter: blur(10px);
            border-left: 5px solid #ffd700;
            border-radius: 12px;
            padding: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 10000;
            animation: slideInRight 0.3s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Tooltips */
        [data-tooltip] {
            position: relative;
            cursor: help;
        }

        [data-tooltip]:before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 12px;
            background: rgba(0,0,0,0.9);
            color: white;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            border: 1px solid #ffd700;
        }

        [data-tooltip]:hover:before {
            opacity: 1;
            visibility: visible;
            bottom: 120%;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .dashboard-header {
                flex-direction: column;
                gap: 20px;
            }
            
            .header-left h1 {
                font-size: 1.8rem;
            }
            
            .stat-number {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>

    <!-- Loading Overlay -->
    <div class="loading" id="loading">
        <div class="restaurant-loader"></div>
        <h3 style="color: #ffd700;">Analizando datos del restaurante...</h3>
        <p style="color: rgba(255,255,255,0.7);">Cargando m√©tricas en tiempo real</p>
    </div>

    <!-- Notificaciones -->
    <div id="notificationContainer"></div>

    <div class="container">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="header-left">
                <h1>
                    <i class="fas fa-utensils"></i>
                    RestaurantAnalytics AI
                </h1>
                <p style="color: rgba(255,255,255,0.7);">
                    <i class="fas fa-robot"></i> Plataforma interactiva con inteligencia artificial en tiempo real
                </p>
            </div>
            <div class="restaurant-selector">
                <label style="color: #ffd700; font-weight: 600;">
                    <i class="fas fa-store"></i> Seleccionar Restaurante
                </label>
                <select id="restaurantSelect" onchange="changeRestaurant()">
                    <option value="1">üî• La Parrilla de Juan - Oeste</option>
                    <option value="2">üçî La Burgues√≠a - Centro</option>
                    <option value="3">üçï Pizzer√≠a Donatello - Norte</option>
                    <option value="4">üç£ Sushi Master - Sur</option>
                    <option value="5">ü•ó Green Bowl - Este</option>
                </select>
            </div>
        </div>

        <!-- Stats Cards Animados -->
        <div class="stats-grid">
            <div class="stat-card" data-tooltip="Ingresos del d√≠a actual">
                <div class="stat-info">
                    <h3 style="color: rgba(255,255,255,0.7);">INGRESOS HOY</h3>
                    <div class="stat-number" id="revenueToday">$4,250</div>
                    <div class="stat-change" id="revenueChange">
                        <i class="fas fa-arrow-up"></i> +15.3% vs ayer
                    </div>
                </div>
                <div class="stat-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
            </div>
            <div class="stat-card" data-tooltip="Clientes atendidos hoy">
                <div class="stat-info">
                    <h3 style="color: rgba(255,255,255,0.7);">CLIENTES HOY</h3>
                    <div class="stat-number" id="customersToday">158</div>
                    <div class="stat-change" id="customersChange">
                        <i class="fas fa-arrow-up"></i> +12.8% vs ayer
                    </div>
                </div>
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
            </div>
            <div class="stat-card" data-tooltip="Gasto promedio por cliente">
                <div class="stat-info">
                    <h3 style="color: rgba(255,255,255,0.7);">TICKET PROMEDIO</h3>
                    <div class="stat-number" id="avgTicket">$26.90</div>
                    <div class="stat-change" id="avgTicketChange">
                        <i class="fas fa-arrow-up"></i> +5.2% vs ayer
                    </div>
                </div>
                <div class="stat-icon">
                    <i class="fas fa-receipt"></i>
                </div>
            </div>
            <div class="stat-card" data-tooltip="Calificaci√≥n en plataformas">
                <div class="stat-info">
                    <h3 style="color: rgba(255,255,255,0.7);">RATING GENERAL</h3>
                    <div class="stat-number" id="rating">4.9 ‚≠ê</div>
                    <div class="stat-change" id="ratingChange">
                        <i class="fas fa-star"></i> +0.3 este mes
                    </div>
                </div>
                <div class="stat-icon">
                    <i class="fas fa-star"></i>
                </div>
            </div>
        </div>

        <!-- Main Analytics Row -->
        <div class="analytics-grid">
            <!-- Revenue Chart Interactivo -->
            <div class="chart-container">
                <div class="chart-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="display: flex; align-items: center; gap: 10px; color: white;">
                        <i class="fas fa-chart-line" style="color: #ffd700;"></i>
                        An√°lisis de Ingresos en Tiempo Real
                    </h3>
                    <div class="time-filters">
                        <button class="time-btn active" onclick="setTimeFilter('week')">Semana</button>
                        <button class="time-btn" onclick="setTimeFilter('month')">Mes</button>
                        <button class="time-btn" onclick="setTimeFilter('year')">A√±o</button>
                    </div>
                </div>
                <canvas id="revenueChart" style="width: 100%; height: 300px;"></canvas>
            </div>

            <!-- KPIs Panel Interactivo -->
            <div class="metrics-panel">
                <div class="metrics-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                    <h3 style="display: flex; align-items: center; gap: 10px; color: white;">
                        <i class="fas fa-tachometer-alt" style="color: #ffd700;"></i>
                        KPIs en Tiempo Real
                    </h3>
                    <span class="badge" style="background: rgba(255,215,0,0.2); color: #ffd700; padding: 5px 15px; border-radius: 20px;">
                        <i class="fas fa-sync-alt"></i> Actualizado
                    </span>
                </div>
                <div class="kpi-list" id="kpiList">
                    <!-- Se llena din√°micamente -->
                </div>
                <button onclick="refreshData()" style="width: 100%; margin-top: 20px; padding: 12px; background: rgba(255,215,0,0.1); border: 1px solid #ffd700; color: #ffd700; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                    <i class="fas fa-sync-alt"></i> Actualizar KPIs
                </button>
            </div>
        </div>

        <!-- Insights Cards Interactivos -->
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-bottom: 25px;" id="insightsGrid">
            <!-- Se llena din√°micamente -->
        </div>

        <!-- AI Analysis Section con Efectos -->
        <div class="ai-analysis">
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 30px; position: relative; z-index: 1;">
                <div style="width: 50px; height: 50px; background: rgba(255,215,0,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-brain" style="color: #ffd700; font-size: 1.8rem;"></i>
                </div>
                <div>
                    <h3 style="color: white; font-size: 1.5rem;">An√°lisis Predictivo IA</h3>
                    <p style="color: rgba(255,255,255,0.6);">Predicciones basadas en machine learning y datos hist√≥ricos</p>
                </div>
                <div style="margin-left: auto; display: flex; gap: 10px;">
                    <span style="background: rgba(16,185,129,0.2); color: #10b981; padding: 8px 15px; border-radius: 20px;">
                        <i class="fas fa-check-circle"></i> 98% precisi√≥n
                    </span>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; position: relative; z-index: 1;">
                <div class="ai-metrics" id="aiMetrics" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                    <!-- Se llena din√°micamente -->
                </div>
                <div class="recommendations" id="recommendations" style="background: rgba(0,0,0,0.3); border-radius: 20px; padding: 25px; border-left: 5px solid #ffd700;">
                    <!-- Se llena din√°micamente -->
                </div>
            </div>
        </div>

        <!-- Sentiment Analysis Interactivo -->
        <div class="menu-analysis">
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                <i class="fas fa-smile" style="color: #ffd700; font-size: 1.8rem;"></i>
                <h3 style="color: white; font-size: 1.3rem;">An√°lisis de Sentimiento en Redes Sociales</h3>
                <span style="margin-left: auto; background: rgba(255,215,0,0.1); color: #ffd700; padding: 5px 15px; border-radius: 20px;">
                    <i class="fas fa-clock"></i> Actualizado hace 2 min
                </span>
            </div>
            <div class="sentiment-grid" id="sentimentGrid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                <!-- Se llena din√°micamente -->
            </div>
        </div>

        <!-- Menu Performance con Interacci√≥n -->
        <div class="menu-analysis">
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                <i class="fas fa-utensil-spoon" style="color: #ffd700; font-size: 1.8rem;"></i>
                <h3 style="color: white; font-size: 1.3rem;">Rendimiento del Men√∫ en Tiempo Real</h3>
                <div style="margin-left: auto; display: flex; gap: 10px;">
                    <button onclick="sortMenuBy('popular')" style="background: rgba(255,215,0,0.1); border: 1px solid #ffd700; color: white; padding: 8px 15px; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-fire"></i> M√°s populares
                    </button>
                    <button onclick="sortMenuBy('revenue')" style="background: rgba(255,215,0,0.1); border: 1px solid #ffd700; color: white; padding: 8px 15px; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-dollar-sign"></i> M√°s ingresos
                    </button>
                </div>
            </div>
            <div class="menu-grid" id="menuGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <!-- Se llena din√°micamente -->
            </div>
        </div>

        <!-- Footer -->
        <footer style="text-align: center; padding: 40px 20px; color: rgba(255,255,255,0.5); border-top: 1px solid rgba(255,255,255,0.1); margin-top: 40px;">
            <p style="font-size: 1.1rem; margin-bottom: 10px;">RestaurantAnalytics AI - Versi√≥n 2.0 Interactiva</p>
            <p style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                <span><i class="fas fa-robot"></i> Machine Learning</span>
                <span><i class="fas fa-chart-bar"></i> Tiempo Real</span>
                <span><i class="fas fa-cloud"></i> Cloud Analytics</span>
                <span><i class="fas fa-shield-alt"></i> 99.9% Uptime</span>
            </p>
        </footer>
    </div>

    <script>
        // Inicializar particles.js
        particlesJS('particles-js', {
            particles: {
                number: {
                    value: 50,
                    density: {
                        enable: true,
                        value_area: 800
                    }
                },
                color: {
                    value: '#ffd700'
                },
                shape: {
                    type: 'circle'
                },
                opacity: {
                    value: 0.2,
                    random: true,
                    anim: {
                        enable: true,
                        speed: 1,
                        opacity_min: 0.1,
                        sync: false
                    }
                },
                size: {
                    value: 3,
                    random: true,
                    anim: {
                        enable: true,
                        speed: 2,
                        size_min: 0.1,
                        sync: false
                    }
                },
                line_linked: {
                    enable: true,
                    distance: 150,
                    color: '#ffd700',
                    opacity: 0.1,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 2,
                    direction: 'none',
                    random: true,
                    straight: false,
                    out_mode: 'out',
                    bounce: false
                }
            },
            interactivity: {
                detect_on: 'canvas',
                events: {
                    onhover: {
                        enable: true,
                        mode: 'grab'
                    },
                    onclick: {
                        enable: true,
                        mode: 'push'
                    },
                    resize: true
                },
                modes: {
                    grab: {
                        distance: 140,
                        line_linked: {
                            opacity: 0.3
                        }
                    },
                    push: {
                        particles_nb: 4
                    }
                }
            },
            retina_detect: true
        });

        // Variables globales
        let revenueChart;
        let currentRestaurant = '1';
        let currentTimeFilter = 'week';
        let autoRefreshInterval;

        // Datos simulados para diferentes restaurantes
        const restaurantData = {
            '1': { // La Parrilla de Juan
                name: 'La Parrilla de Juan - Oeste',
                revenue: [4250, 4500, 4800, 5100, 5350, 5600, 5900],
                customers: [158, 165, 172, 180, 188, 195, 210],
                avgTicket: 26.90,
                rating: 4.9,
                kpis: {
                    ocupacion: 92,
                    rotacion: 3.2,
                    satisfaccion: 96,
                    eficiencia: 88
                }
            },
            '2': { // La Burgues√≠a
                name: 'La Burgues√≠a - Centro',
                revenue: [3100, 3350, 3200, 3600, 3850, 4100, 4300],
                customers: [112, 118, 125, 132, 140, 148, 155],
                avgTicket: 23.40,
                rating: 4.6,
                kpis: {
                    ocupacion: 78,
                    rotacion: 2.8,
                    satisfaccion: 86,
                    eficiencia: 72
                }
            },
            '3': { // Pizzer√≠a Donatello
                revenue: [2800, 2950, 3100, 3400, 3650, 3800, 4000],
                customers: [98, 105, 112, 120, 128, 135, 142],
                avgTicket: 24.50,
                rating: 4.5,
                kpis: {
                    ocupacion: 72,
                    rotacion: 2.5,
                    satisfaccion: 82,
                    eficiencia: 70
                }
            },
            '4': { // Sushi Master
                revenue: [3500, 3700, 3900, 4200, 4450, 4700, 4900],
                customers: [125, 132, 140, 148, 155, 162, 170],
                avgTicket: 28.20,
                rating: 4.8,
                kpis: {
                    ocupacion: 85,
                    rotacion: 2.6,
                    satisfaccion: 92,
                    eficiencia: 80
                }
            },
            '5': { // Green Bowl
                revenue: [2200, 2350, 2500, 2700, 2900, 3100, 3300],
                customers: [82, 88, 95, 102, 108, 115, 122],
                avgTicket: 21.80,
                rating: 4.4,
                kpis: {
                    ocupacion: 65,
                    rotacion: 2.2,
                    satisfaccion: 78,
                    eficiencia: 68
                }
            }
        };

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            initDashboard();
            startAutoRefresh();
        });

        function initDashboard() {
            createRevenueChart();
            updateKPIList();
            updateInsights();
            updateAIAnalysis();
            updateSentimentAnalysis();
            updateMenuAnalysis();
            showNotification('‚úÖ Plataforma inicializada correctamente', 'success');
        }

        function createRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            
            if (revenueChart) {
                revenueChart.destroy();
            }

            const data = getRevenueData();

            revenueChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b', 'Dom'],
                    datasets: [{
                        label: 'Ingresos ($)',
                        data: data,
                        borderColor: '#ffd700',
                        backgroundColor: 'rgba(255,215,0,0.1)',
                        borderWidth: 3,
                        pointRadius: 6,
                        pointBackgroundColor: '#ffd700',
                        pointBorderColor: 'white',
                        pointBorderWidth: 2,
                        pointHoverRadius: 10,
                        pointHoverBackgroundColor: '#ffa500',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: '#ffd700',
                            bodyColor: 'white',
                            borderColor: '#ffd700',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return `$${context.raw.toLocaleString()}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: {
                                color: 'rgba(255,255,255,0.05)'
                            },
                            ticks: {
                                color: 'rgba(255,255,255,0.7)',
                                callback: function(value) {
                                    return '$' + value;
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: 'rgba(255,255,255,0.7)'
                            }
                        }
                    }
                }
            });
        }

        function getRevenueData() {
            const data = restaurantData[currentRestaurant] || restaurantData['1'];
            return data.revenue;
        }

        function updateKPIList() {
            const kpiList = document.querySelector('.kpi-list');
            const data = restaurantData[currentRestaurant] || restaurantData['1'];
            
            const kpis = [
                { label: 'Ocupaci√≥n promedio', value: `${data.kpis.ocupacion}%`, color: '#ffd700', target: 95 },
                { label: 'Rotaci√≥n de mesas', value: `${data.kpis.rotacion}/hora`, color: '#10b981', target: 3.5 },
                { label: 'Satisfacci√≥n cliente', value: `${data.kpis.satisfaccion}%`, color: '#f59e0b', target: 98 },
                { label: 'Eficiencia operativa', value: `${data.kpis.eficiencia}%`, color: '#8b5cf6', target: 90 }
            ];

            kpiList.innerHTML = kpis.map(kpi => `
                <div class="kpi-item" style="margin-bottom: 20px;">
                    <div class="kpi-label" style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255,255,255,0.7);">
                        <span>${kpi.label}</span>
                        <span style="font-weight: 700; color: #ffd700;">${kpi.value}</span>
                    </div>
                    <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                        <div style="width: ${parseInt(kpi.value)}%; height: 100%; background: ${kpi.color}; border-radius: 4px; transition: width 0.8s;"></div>
                    </div>
                </
